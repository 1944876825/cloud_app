import{d as e,m as t,a as i,o as a,c as n,w as o,b as l,t as r,e as s,n as c,i as d,f as A,r as u,g as p,h,j as f,k as g,l as y,p as m,q as b,s as x,F as w,u as v,v as _,I as S,x as I,y as C,z as k,A as $,S as M,B,C as N,D as z,E as H,G as R,H as T,J as L,K as U}from"./index.c750a711.js";import{r as E,_ as W}from"./uni-app.es.87349d3f.js";import{_ as D}from"./_plugin-vue_export-helper.cdc0426e.js";const G=D({name:"u-link",mixins:[t,i,{props:{color:{type:String,default:e.link.color},fontSize:{type:[String,Number],default:e.link.fontSize},underLine:{type:Boolean,default:e.link.underLine},href:{type:String,default:e.link.href},mpTips:{type:String,default:e.link.mpTips},lineColor:{type:String,default:e.link.lineColor},text:{type:String,default:e.link.text}}}],computed:{linkStyle(){return{color:this.color,fontSize:uni.$u.addUnit(this.fontSize),lineHeight:uni.$u.addUnit(uni.$u.getPx(this.fontSize)+2),textDecoration:this.underLine?"underline":"none"}}},methods:{openLink(){window.open(this.href),this.$emit("click")}}},[["render",function(e,t,i,A,u,p){const h=d;return a(),n(h,{class:"u-link",onClick:s(p.openLink,["stop"]),style:c([p.linkStyle,e.$u.addStyle(e.customStyle)])},{default:o((()=>[l(r(e.text),1)])),_:1},8,["onClick","style"])}],["__scopeId","data-v-f5c4259e"]]),F={computed:{value(){const{text:e,mode:t,format:i,href:a}=this;return"price"===t?(/^\d+(\.\d+)?$/.test(e)||uni.$u.error("金额模式下，text参数需要为金额格式"),uni.$u.test.func(i)?i(e):uni.$u.priceFormat(e,2)):"date"===t?(!uni.$u.test.date(e)&&uni.$u.error("日期模式下，text参数需要为日期或时间戳格式"),uni.$u.test.func(i)?i(e):i?uni.$u.timeFormat(e,i):uni.$u.timeFormat(e,"yyyy-mm-dd")):"phone"===t?uni.$u.test.func(i)?i(e):"encrypt"===i?`${e.substr(0,3)}****${e.substr(7)}`:e:"name"===t?("string"!=typeof e&&uni.$u.error("姓名模式下，text参数需要为字符串格式"),uni.$u.test.func(i)?i(e):"encrypt"===i?this.formatName(e):e):"link"===t?(!uni.$u.test.url(a)&&uni.$u.error("超链接模式下，href参数需要为URL格式"),e):e}},methods:{formatName(e){let t="";if(2===e.length)t=e.substr(0,1)+"*";else if(e.length>2){let i="";for(let t=0,a=e.length-2;t<a;t++)i+="*";t=e.substr(0,1)+i+e.substr(-1,1)}else t=e;return t}}},V={props:{type:{type:String,default:e.text.type},show:{type:Boolean,default:e.text.show},text:{type:[String,Number],default:e.text.text},prefixIcon:{type:String,default:e.text.prefixIcon},suffixIcon:{type:String,default:e.text.suffixIcon},mode:{type:String,default:e.text.mode},href:{type:String,default:e.text.href},format:{type:[String,Function],default:e.text.format},call:{type:Boolean,default:e.text.call},openType:{type:String,default:e.text.openType},bold:{type:Boolean,default:e.text.bold},block:{type:Boolean,default:e.text.block},lines:{type:[String,Number],default:e.text.lines},color:{type:String,default:e.text.color},size:{type:[String,Number],default:e.text.size},iconStyle:{type:[Object,String],default:e.text.iconStyle},decoration:{tepe:String,default:e.text.decoration},margin:{type:[Object,String,Number],default:e.text.margin},lineHeight:{type:[String,Number],default:e.text.lineHeight},align:{type:String,default:e.text.align},wordWrap:{type:String,default:e.text.wordWrap}}};const j=D({name:"u--text",mixins:[t,i,V],components:{uvText:D({name:"u--text",mixins:[t,i,F,V],emits:["click"],computed:{valueStyle(){const e={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:uni.$u.addUnit(this.size)};return!this.type&&(e.color=this.color),this.isNvue&&this.lines&&(e.lines=this.lines),this.lineHeight&&(e.lineHeight=uni.$u.addUnit(this.lineHeight)),!this.isNvue&&this.block&&(e.display="block"),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},isNvue:()=>!1,isMp:()=>!1},data:()=>({}),methods:{clickHandler(){this.call&&"phone"===this.mode&&A({phoneNumber:this.text}),this.$emit("click")}}},[["render",function(e,t,i,s,A,m){const b=d,x=E(u("u-icon"),W),w=g,v=E(u("u-link"),G),_=y;return e.show?(a(),n(w,{key:0,class:p(["u-text",[]]),style:c({margin:e.margin,justifyContent:"left"===e.align?"flex-start":"center"===e.align?"center":"flex-end"}),onClick:m.clickHandler},{default:o((()=>["price"===e.mode?(a(),n(b,{key:0,class:p(["u-text__price",e.type&&`u-text__value--${e.type}`]),style:c([m.valueStyle])},{default:o((()=>[l("￥")])),_:1},8,["class","style"])):h("",!0),e.prefixIcon?(a(),n(w,{key:1,class:"u-text__prefix-icon"},{default:o((()=>[f(x,{name:e.prefixIcon,customStyle:e.$u.addStyle(e.iconStyle)},null,8,["name","customStyle"])])),_:1})):h("",!0),"link"===e.mode?(a(),n(v,{key:2,text:e.value,href:e.href,underLine:""},null,8,["text","href"])):e.openType&&m.isMp?(a(),n(_,{key:3,class:"u-reset-button u-text__value",style:c([m.valueStyle]),"data-index":e.index,openType:e.openType,onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter},{default:o((()=>[l(r(e.value),1)])),_:1},8,["style","data-index","openType","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter"])):(a(),n(b,{key:4,class:p(["u-text__value",[e.type&&`u-text__value--${e.type}`,e.lines&&`u-line-${e.lines}`]]),style:c([m.valueStyle])},{default:o((()=>[l(r(e.value),1)])),_:1},8,["style","class"])),e.suffixIcon?(a(),n(w,{key:5,class:"u-text__suffix-icon"},{default:o((()=>[f(x,{name:e.suffixIcon,customStyle:e.$u.addStyle(e.iconStyle)},null,8,["name","customStyle"])])),_:1})):h("",!0)])),_:1},8,["style","onClick"])):h("",!0)}],["__scopeId","data-v-c4e7d767"]])}},[["render",function(e,t,i,o,l,r){const s=m("uvText");return a(),n(s,{type:e.type,show:e.show,text:e.text,prefixIcon:e.prefixIcon,suffixIcon:e.suffixIcon,mode:e.mode,href:e.href,format:e.format,call:e.call,openType:e.openType,bold:e.bold,block:e.block,lines:e.lines,color:e.color,decoration:e.decoration,size:e.size,iconStyle:e.iconStyle,margin:e.margin,lineHeight:e.lineHeight,align:e.align,wordWrap:e.wordWrap,customStyle:e.customStyle},null,8,["type","show","text","prefixIcon","suffixIcon","mode","href","format","call","openType","bold","block","lines","color","decoration","size","iconStyle","margin","lineHeight","align","wordWrap","customStyle"])}]]),O={props:{src:{type:String,default:e.avatar.src},shape:{type:String,default:e.avatar.shape},size:{type:[String,Number],default:e.avatar.size},mode:{type:String,default:e.avatar.mode},text:{type:String,default:e.avatar.text},bgColor:{type:String,default:e.avatar.bgColor},color:{type:String,default:e.avatar.color},fontSize:{type:[String,Number],default:e.avatar.fontSize},icon:{type:String,default:e.avatar.icon},mpAvatar:{type:Boolean,default:e.avatar.mpAvatar},randomBgColor:{type:Boolean,default:e.avatar.randomBgColor},defaultUrl:{type:String,default:e.avatar.defaultUrl},colorIndex:{type:[String,Number],validator:e=>uni.$u.test.range(e,[0,19])||""===e,default:e.avatar.colorIndex},name:{type:String,default:e.avatar.name}}};const P=D({name:"u-avatar",mixins:[t,i,O],data(){return{colors:["#ffb34b","#f2bba9","#f7a196","#f18080","#88a867","#bfbf39","#89c152","#94d554","#f19ec2","#afaae4","#e1b0df","#c38cc1","#72dcdc","#9acdcb","#77b1cc","#448aca","#86cefa","#98d1ee","#73d1f1","#80a7dc"],avatarUrl:this.src,allowMp:!1}},watch:{src:{immediate:!0,handler(e){this.avatarUrl=e,e||this.errorHandler()}}},computed:{imageStyle:()=>({})},created(){this.init()},methods:{init(){},isImg(){return-1!==this.src.indexOf("/")},errorHandler(){this.avatarUrl=this.defaultUrl||"data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjREMEQwRkY0RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjREMEQwRkY1RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEQwRDBGRjJGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEQwRDBGRjNGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYG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"},clickHandler(){this.$emit("click",this.name)}}},[["render",function(e,t,i,l,r,s){const d=E(u("u-icon"),W),A=E(u("u--text"),j),h=v,f=g;return a(),n(f,{class:p(["u-avatar",[`u-avatar--${e.shape}`]]),style:c([{backgroundColor:e.text||e.icon?e.randomBgColor?r.colors[""!==e.colorIndex?e.colorIndex:e.$u.random(0,19)]:e.bgColor:"transparent",width:e.$u.addUnit(e.size),height:e.$u.addUnit(e.size)},e.$u.addStyle(e.customStyle)]),onClick:s.clickHandler},{default:o((()=>[b(e.$slots,"default",{},(()=>[e.mpAvatar&&r.allowMp?(a(),x(w,{key:0},[],64)):e.icon?(a(),n(d,{key:1,name:e.icon,size:e.fontSize,color:e.color},null,8,["name","size","color"])):e.text?(a(),n(A,{key:2,text:e.text,size:e.fontSize,color:e.color,align:"center",customStyle:"justify-content: center"},null,8,["text","size","color"])):(a(),n(h,{key:3,class:p(["u-avatar__image",[`u-avatar__image--${e.shape}`]]),src:r.avatarUrl||e.defaultUrl,mode:e.mode,onError:s.errorHandler,style:c([{width:e.$u.addUnit(e.size),height:e.$u.addUnit(e.size)}])},null,8,["class","src","mode","onError","style"]))]),!0)])),_:3},8,["class","style","onClick"])}],["__scopeId","data-v-eefb9ae3"]]);const Y=D({name:"u-search",mixins:[t,i,{props:{shape:{type:String,default:e.search.shape},bgColor:{type:String,default:e.search.bgColor},placeholder:{type:String,default:e.search.placeholder},clearabled:{type:Boolean,default:e.search.clearabled},focus:{type:Boolean,default:e.search.focus},showAction:{type:Boolean,default:e.search.showAction},actionStyle:{type:Object,default:e.search.actionStyle},actionText:{type:String,default:e.search.actionText},inputAlign:{type:String,default:e.search.inputAlign},inputStyle:{type:Object,default:e.search.inputStyle},disabled:{type:Boolean,default:e.search.disabled},borderColor:{type:String,default:e.search.borderColor},searchIconColor:{type:String,default:e.search.searchIconColor},color:{type:String,default:e.search.color},placeholderColor:{type:String,default:e.search.placeholderColor},searchIcon:{type:String,default:e.search.searchIcon},searchIconSize:{type:[Number,String],default:e.search.searchIconSize},margin:{type:String,default:e.search.margin},animation:{type:Boolean,default:e.search.animation},modelValue:{type:String,default:e.search.value},value:{type:String,default:e.search.value},maxlength:{type:[String,Number],default:e.search.maxlength},height:{type:[String,Number],default:e.search.height},label:{type:[String,Number,null],default:e.search.label}}}],data(){return{keyword:"",showClear:!1,show:!1,focused:this.focus}},watch:{keyword(e){this.$emit("update:modelValue",e),this.$emit("change",e)},modelValue:{immediate:!0,handler(e){this.keyword=e}}},computed:{showActionBtn(){return!this.animation&&this.showAction}},emits:["clear","search","custom","focus","blur","click","clickIcon","update:modelValue","change"],methods:{inputChange(e){this.keyword=e.detail.value},clear(){this.keyword="",this.$nextTick((()=>{this.$emit("clear")}))},search(e){this.$emit("search",e.detail.value);try{_()}catch(t){}},custom(){this.$emit("custom",this.keyword);try{_()}catch(e){}},getFocus(){this.focused=!0,this.animation&&this.showAction&&(this.show=!0),this.$emit("focus",this.keyword)},blur(){setTimeout((()=>{this.focused=!1}),100),this.show=!1,this.$emit("blur",this.keyword)},clickHandler(){this.disabled&&this.$emit("click")},clickIcon(){this.$emit("clickIcon")}}},[["render",function(e,t,i,A,y,m){const x=d,w=E(u("u-icon"),W),v=g,_=S;return a(),n(v,{class:"u-search",onClick:m.clickHandler,style:c([{margin:e.margin},e.$u.addStyle(e.customStyle)])},{default:o((()=>[f(v,{class:"u-search__content",style:c({backgroundColor:e.bgColor,borderRadius:"round"==e.shape?"100px":"4px",borderColor:e.borderColor})},{default:o((()=>[e.$slots.label||null!==e.label?b(e.$slots,"label",{key:0},(()=>[f(x,{class:"u-search__content__label"},{default:o((()=>[l(r(e.label),1)])),_:1})]),!0):h("",!0),f(v,{class:"u-search__content__icon"},{default:o((()=>[f(w,{onClick:m.clickIcon,size:e.searchIconSize,name:e.searchIcon,color:e.searchIconColor?e.searchIconColor:e.color},null,8,["onClick","size","name","color"])])),_:1}),f(_,{"confirm-type":"search",onBlur:m.blur,value:y.keyword,onConfirm:m.search,onInput:m.inputChange,disabled:e.disabled,onFocus:m.getFocus,focus:e.focus,maxlength:e.maxlength,"placeholder-class":"u-search__content__input--placeholder",placeholder:e.placeholder,"placeholder-style":`color: ${e.placeholderColor}`,class:"u-search__content__input",type:"text",style:c([{textAlign:e.inputAlign,color:e.color,backgroundColor:e.bgColor,height:e.$u.addUnit(e.height)},e.inputStyle])},null,8,["onBlur","value","onConfirm","onInput","disabled","onFocus","focus","maxlength","placeholder","placeholder-style","style"]),y.keyword&&e.clearabled&&y.focused?(a(),n(v,{key:1,class:"u-search__content__icon u-search__content__close",onClick:m.clear},{default:o((()=>[f(w,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})])),_:1},8,["onClick"])):h("",!0)])),_:3},8,["style"]),f(x,{style:c([e.actionStyle]),class:p(["u-search__action",[(m.showActionBtn||y.show)&&"u-search__action--active"]]),onClick:s(m.custom,["stop","prevent"])},{default:o((()=>[l(r(e.actionText),1)])),_:1},8,["style","class","onClick"])])),_:3},8,["onClick","style"])}],["__scopeId","data-v-90d4ca0e"]]);const Q=D({name:"u-loading-icon",mixins:[t,i,{props:{show:{type:Boolean,default:e.loadingIcon.show},color:{type:String,default:e.loadingIcon.color},textColor:{type:String,default:e.loadingIcon.textColor},vertical:{type:Boolean,default:e.loadingIcon.vertical},mode:{type:String,default:e.loadingIcon.mode},size:{type:[String,Number],default:e.loadingIcon.size},textSize:{type:[String,Number],default:e.loadingIcon.textSize},text:{type:[String,Number],default:e.loadingIcon.text},timingFunction:{type:String,default:e.loadingIcon.timingFunction},duration:{type:[String,Number],default:e.loadingIcon.duration},inactiveColor:{type:String,default:e.loadingIcon.inactiveColor}}}],data:()=>({array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}),computed:{otherBorderColor(){const e=uni.$u.colorGradient(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:e:"transparent"}},watch:{show(e){}},mounted(){this.init()},methods:{init(){setTimeout((()=>{}),20)},addEventListenerToWebview(){const e=I(),t=e[e.length-1].$getAppWebview();t.addEventListener("hide",(()=>{this.webviewHide=!0})),t.addEventListener("show",(()=>{this.webviewHide=!1}))}}},[["render",function(e,t,i,s,A,u){const f=g,y=d;return e.show?(a(),n(f,{key:0,class:p(["u-loading-icon",[e.vertical&&"u-loading-icon--vertical"]]),style:c([e.$u.addStyle(e.customStyle)])},{default:o((()=>[A.webviewHide?h("",!0):(a(),n(f,{key:0,class:p(["u-loading-icon__spinner",[`u-loading-icon__spinner--${e.mode}`]]),ref:"ani",style:c({color:e.color,width:e.$u.addUnit(e.size),height:e.$u.addUnit(e.size),borderTopColor:e.color,borderBottomColor:u.otherBorderColor,borderLeftColor:u.otherBorderColor,borderRightColor:u.otherBorderColor,"animation-duration":`${e.duration}ms`,"animation-timing-function":"semicircle"===e.mode||"circle"===e.mode?e.timingFunction:""})},{default:o((()=>["spinner"===e.mode?(a(!0),x(w,{key:0},C(A.array12,((e,t)=>(a(),n(f,{key:t,class:"u-loading-icon__dot"})))),128)):h("",!0)])),_:1},8,["class","style"])),e.text?(a(),n(y,{key:1,class:"u-loading-icon__text",style:c({fontSize:e.$u.addUnit(e.textSize),color:e.textColor})},{default:o((()=>[l(r(e.text),1)])),_:1},8,["style"])):h("",!0)])),_:1},8,["style","class"])):h("",!0)}],["__scopeId","data-v-32ca8c71"]]);const X=D({name:"u-swiper-indicator",mixins:[t,i,{props:{length:{type:[String,Number],default:e.swiperIndicator.length},current:{type:[String,Number],default:e.swiperIndicator.current},indicatorActiveColor:{type:String,default:e.swiperIndicator.indicatorActiveColor},indicatorInactiveColor:{type:String,default:e.swiperIndicator.indicatorInactiveColor},indicatorMode:{type:String,default:e.swiperIndicator.indicatorMode}}}],data:()=>({lineWidth:22}),computed:{lineStyle(){let e={};return e.width=uni.$u.addUnit(this.lineWidth),e.transform=`translateX(${uni.$u.addUnit(this.current*this.lineWidth)})`,e.backgroundColor=this.indicatorActiveColor,e},dotStyle(){return e=>{let t={};return t.backgroundColor=e===this.current?this.indicatorActiveColor:this.indicatorInactiveColor,t}}}},[["render",function(e,t,i,l,r,s){const d=g;return a(),n(d,{class:"u-swiper-indicator"},{default:o((()=>["line"===e.indicatorMode?(a(),n(d,{key:0,class:p(["u-swiper-indicator__wrapper",[`u-swiper-indicator__wrapper--${e.indicatorMode}`]]),style:c({width:e.$u.addUnit(r.lineWidth*e.length),backgroundColor:e.indicatorInactiveColor})},{default:o((()=>[f(d,{class:"u-swiper-indicator__wrapper--line__bar",style:c([s.lineStyle])},null,8,["style"])])),_:1},8,["class","style"])):h("",!0),"dot"===e.indicatorMode?(a(),n(d,{key:1,class:"u-swiper-indicator__wrapper"},{default:o((()=>[(a(!0),x(w,null,C(e.length,((t,i)=>(a(),n(d,{class:p(["u-swiper-indicator__wrapper__dot",[i===e.current&&"u-swiper-indicator__wrapper__dot--active"]]),key:i,style:c([s.dotStyle(i)])},null,8,["class","style"])))),128))])),_:1})):h("",!0)])),_:1})}],["__scopeId","data-v-f0b77c03"]]);const J=D({name:"u-swiper",mixins:[t,i,{props:{list:{type:Array,default:e.swiper.list},indicator:{type:Boolean,default:e.swiper.indicator},indicatorActiveColor:{type:String,default:e.swiper.indicatorActiveColor},indicatorInactiveColor:{type:String,default:e.swiper.indicatorInactiveColor},indicatorStyle:{type:[String,Object],default:e.swiper.indicatorStyle},indicatorMode:{type:String,default:e.swiper.indicatorMode},autoplay:{type:Boolean,default:e.swiper.autoplay},current:{type:[String,Number],default:e.swiper.current},currentItemId:{type:String,default:e.swiper.currentItemId},interval:{type:[String,Number],default:e.swiper.interval},duration:{type:[String,Number],default:e.swiper.duration},circular:{type:Boolean,default:e.swiper.circular},previousMargin:{type:[String,Number],default:e.swiper.previousMargin},nextMargin:{type:[String,Number],default:e.swiper.nextMargin},acceleration:{type:Boolean,default:e.swiper.acceleration},displayMultipleItems:{type:Number,default:e.swiper.displayMultipleItems},easingFunction:{type:String,default:e.swiper.easingFunction},keyName:{type:String,default:e.swiper.keyName},imgMode:{type:String,default:e.swiper.imgMode},height:{type:[String,Number],default:e.swiper.height},bgColor:{type:String,default:e.swiper.bgColor},radius:{type:[String,Number],default:e.swiper.radius},loading:{type:Boolean,default:e.swiper.loading},showTitle:{type:Boolean,default:e.swiper.showTitle}}}],data:()=>({currentIndex:0}),watch:{current(e,t){e!==t&&(this.currentIndex=e)}},computed:{itemStyle(){return e=>{const t={};return this.nextMargin&&this.previousMargin&&(t.borderRadius=uni.$u.addUnit(this.radius),e!==this.currentIndex&&(t.transform="scale(0.92)")),t}}},methods:{getItemType(e){return"string"==typeof e?uni.$u.test.video(this.getSource(e))?"video":"image":"object"==typeof e&&this.keyName?e.type?"image"===e.type?"image":"video"===e.type?"video":"image":uni.$u.test.video(this.getSource(e))?"video":"image":void 0},getSource(e){return"string"==typeof e?e:"object"==typeof e&&this.keyName?e[this.keyName]:(uni.$u.error("请按格式传递列表参数"),"")},change(e){const{current:t}=e.detail;this.pauseVideo(this.currentIndex),this.currentIndex=t,this.$emit("change",e.detail)},pauseVideo(e){const t=this.getSource(this.list[e]);if(uni.$u.test.video(t)){k(`video-${e}`,this).pause()}},getPoster:e=>"object"==typeof e&&e.poster?e.poster:"",clickHandler(e){this.$emit("click",e)}}},[["render",function(e,t,i,s,A,p){const y=E(u("u-loading-icon"),Q),m=g,_=v,S=$,I=d,k=M,N=B,z=E(u("u-swiper-indicator"),X);return a(),n(m,{class:"u-swiper",style:c({backgroundColor:e.bgColor,height:e.$u.addUnit(e.height),borderRadius:e.$u.addUnit(e.radius)})},{default:o((()=>[e.loading?(a(),n(m,{key:0,class:"u-swiper__loading"},{default:o((()=>[f(y,{mode:"circle"})])),_:1})):(a(),n(N,{key:1,class:"u-swiper__wrapper",style:c({height:e.$u.addUnit(e.height)}),onChange:p.change,circular:e.circular,interval:e.interval,duration:e.duration,autoplay:e.autoplay,current:e.current,currentItemId:e.currentItemId,previousMargin:e.$u.addUnit(e.previousMargin),nextMargin:e.$u.addUnit(e.nextMargin),acceleration:e.acceleration,displayMultipleItems:e.displayMultipleItems,easingFunction:e.easingFunction},{default:o((()=>[(a(!0),x(w,null,C(e.list,((t,i)=>(a(),n(k,{class:"u-swiper__wrapper__item",key:i},{default:o((()=>[f(m,{class:"u-swiper__wrapper__item__wrapper",style:c([p.itemStyle(i)])},{default:o((()=>["image"===p.getItemType(t)?(a(),n(_,{key:0,class:"u-swiper__wrapper__item__wrapper__image",src:p.getSource(t),mode:e.imgMode,onClick:e=>p.clickHandler(t),style:c({height:e.$u.addUnit(e.height),borderRadius:e.$u.addUnit(e.radius)})},null,8,["src","mode","onClick","style"])):h("",!0),"video"===p.getItemType(t)?(a(),n(S,{key:1,class:"u-swiper__wrapper__item__wrapper__video",id:`video-${i}`,"enable-progress-gesture":!1,src:p.getSource(t),poster:p.getPoster(t),title:e.showTitle&&e.$u.test.object(t)&&t.title?t.title:"",style:c({height:e.$u.addUnit(e.height)}),controls:"",onClick:e=>p.clickHandler(t)},null,8,["id","src","poster","title","style","onClick"])):h("",!0),e.showTitle&&e.$u.test.object(t)&&t.title&&e.$u.test.image(p.getSource(t))?(a(),n(I,{key:2,class:"u-swiper__wrapper__item__wrapper__title u-line-1"},{default:o((()=>[l(r(t.title),1)])),_:2},1024)):h("",!0)])),_:2},1032,["style"])])),_:2},1024)))),128))])),_:1},8,["style","onChange","circular","interval","duration","autoplay","current","currentItemId","previousMargin","nextMargin","acceleration","displayMultipleItems","easingFunction"])),f(m,{class:"u-swiper__indicator",style:c([e.$u.addStyle(e.indicatorStyle)])},{default:o((()=>[b(e.$slots,"indicator",{},(()=>[e.loading||!e.indicator||e.showTitle?h("",!0):(a(),n(z,{key:0,indicatorActiveColor:e.indicatorActiveColor,indicatorInactiveColor:e.indicatorInactiveColor,length:e.list.length,current:A.currentIndex,indicatorMode:e.indicatorMode},null,8,["indicatorActiveColor","indicatorInactiveColor","length","current","indicatorMode"]))]),!0)])),_:3},8,["style"])])),_:3},8,["style"])}],["__scopeId","data-v-085292db"]]);const Z=D({name:"u-rate",mixins:[t,i,{props:{modelValue:{type:[String,Number],default:e.rate.value},count:{type:[String,Number],default:e.rate.count},disabled:{type:Boolean,default:e.rate.disabled},readonly:{type:Boolean,default:e.rate.readonly},size:{type:[String,Number],default:e.rate.size},inactiveColor:{type:String,default:e.rate.inactiveColor},activeColor:{type:String,default:e.rate.activeColor},gutter:{type:[String,Number],default:e.rate.gutter},minCount:{type:[String,Number],default:e.rate.minCount},allowHalf:{type:Boolean,default:e.rate.allowHalf},activeIcon:{type:String,default:e.rate.activeIcon},inactiveIcon:{type:String,default:e.rate.inactiveIcon},touchable:{type:Boolean,default:e.rate.touchable}}}],data(){return{elId:uni.$u.guid(),elClass:uni.$u.guid(),rateBoxLeft:0,activeIndex:this.modelValue,rateWidth:0,moving:!1}},watch:{modelValue(e){this.activeIndex=e},activeIndex:"emitEvent"},emits:["update:modelValue","change"],methods:{init(){uni.$u.sleep().then((()=>{this.getRateItemRect(),this.getRateIconWrapRect()}))},async getRateItemRect(){await uni.$u.sleep(),this.$uGetRect("#"+this.elId).then((e=>{this.rateBoxLeft=e.left}))},getRateIconWrapRect(){this.$uGetRect("."+this.elClass).then((e=>{this.rateWidth=e.width}))},touchMove(e){if(!this.touchable)return;this.preventEvent(e);const t=e.changedTouches[0].pageX;this.getActiveIndex(t)},touchEnd(e){if(!this.touchable)return;this.preventEvent(e);const t=e.changedTouches[0].pageX;this.getActiveIndex(t)},clickHandler(e,t){if("ios"===uni.$u.os()&&this.moving)return;this.preventEvent(e);let i=0;i=e.changedTouches[0].pageX,this.getActiveIndex(i,!0)},emitEvent(){this.$emit("change",this.activeIndex),this.$emit("update:modelValue",this.activeIndex)},getActiveIndex(e,t=!1){if(this.disabled||this.readonly)return;const i=this.rateWidth*this.count+this.rateBoxLeft,a=e=uni.$u.range(this.rateBoxLeft,i,e)-this.rateBoxLeft;let n;if(this.allowHalf){n=Math.floor(a/this.rateWidth);const e=a%this.rateWidth;e<=this.rateWidth/2&&e>0?n+=.5:e>this.rateWidth/2&&n++}else{n=Math.floor(a/this.rateWidth);const e=a%this.rateWidth;t?e>0&&n++:e>this.rateWidth/2&&n++}this.activeIndex=Math.min(n,this.count),this.activeIndex<this.minCount&&(this.activeIndex=this.minCount),setTimeout((()=>{this.moving=!0}),10),setTimeout((()=>{this.moving=!1}),10)}},mounted(){this.init()}},[["render",function(e,t,i,l,r,d){const A=E(u("u-icon"),W),y=g;return a(),n(y,{class:"u-rate",id:r.elId,ref:"u-rate",style:c([e.$u.addStyle(e.customStyle)])},{default:o((()=>[f(y,{class:"u-rate__content",onTouchmove:s(d.touchMove,["stop"]),onTouchend:s(d.touchEnd,["stop"])},{default:o((()=>[(a(!0),x(w,null,C(Number(e.count),((t,i)=>(a(),n(y,{class:p(["u-rate__content__item",[r.elClass]]),key:i},{default:o((()=>[f(y,{class:"u-rate__content__item__icon-wrap",ref_for:!0,ref:"u-rate__content__item__icon-wrap",onClick:s((e=>d.clickHandler(e,i+1)),["stop"])},{default:o((()=>[f(A,{name:Math.floor(r.activeIndex)>i?e.activeIcon:e.inactiveIcon,color:e.disabled?"#c8c9cc":Math.floor(r.activeIndex)>i?e.activeColor:e.inactiveColor,"custom-style":{padding:`0 ${e.$u.addUnit(e.gutter/2)}`},size:e.size},null,8,["name","color","custom-style","size"])])),_:2},1032,["onClick"]),e.allowHalf?(a(),n(y,{key:0,onClick:s((e=>d.clickHandler(e,i+1)),["stop"]),class:"u-rate__content__item__icon-wrap u-rate__content__item__icon-wrap--half",style:c([{width:e.$u.addUnit(r.rateWidth/2)}]),ref_for:!0,ref:"u-rate__content__item__icon-wrap"},{default:o((()=>[f(A,{name:Math.ceil(r.activeIndex)>i?e.activeIcon:e.inactiveIcon,color:e.disabled?"#c8c9cc":Math.ceil(r.activeIndex)>i?e.activeColor:e.inactiveColor,"custom-style":{padding:`0 ${e.$u.addUnit(e.gutter/2)}`},size:e.size},null,8,["name","color","custom-style","size"])])),_:2},1032,["onClick","style"])):h("",!0)])),_:2},1032,["class"])))),128))])),_:1},8,["onTouchmove","onTouchend"])])),_:1},8,["id","style"])}],["__scopeId","data-v-68301644"]]);const q=D({data:()=>({title:"Hello",keyword:"",swiperList:[],hotList:[],cardList:[],tabIndex:0,tabScrollInto:"",tabItemLineLeft:0,tabItemLineWidth:24,windowHeight:0,windowWidth:0,tabListSize:[],swiperHeight:0,myclass:[{type_name:"推荐"},{type_name:"电影"},{type_name:"哈哈动漫"}]}),onLoad(){let e=N();this.windowHeight=e.windowHeight,this.windowWidth=e.windowWidth;var t=this.windowWidth/750;this.swiperHeight=this.windowHeight/t-170,this.jcsetTabItemDistance(),uni.$u.http.setConfig((e=>(e.baseURL=z().globalData.cms,e))),this.getVodPhbAll()},onPullDownRefresh(){this.getVodPhbAll(),setTimeout((function(){H()}),500)},methods:{playVideo(){R({url:"/pages/play/play"})},getVodPhbAll(){uni.$u.http.get("api.php/jmys/VodPhbAll").then((e=>{this.cardList=e.data.data})).catch((e=>{T({icon:"error",title:"初始化请求失败"})}))},tapSwiper(e){e.url&&z().mRoute(e.url)},change(){},swiperChange(e){let t=e.detail.current;this.setTabSelect(t),this.setTabItemLinePosition(this.tabListSize[this.tabIndex].left,this.tabListSize[this.tabIndex].width)},pressScrollViewItem(e){this.setTabSelect(e)},jcsetTabItemDistance(){var e=L().in(this),t=setInterval((i=>{e.select("#tabb"+(this.myclass.length-1)).boundingClientRect((e=>{e&&(clearInterval(t),this.setTabItemDistance())})).exec()}),100)},setTabItemDistance(){for(var e=L().in(this),t=0;t<this.myclass.length;t++)e.select("#tabb"+[t]).boundingClientRect();e.exec((e=>{e.forEach((e=>{this.tabListSize[e.dataset.id]=e})),this.setTabItemLinePosition(this.tabListSize[this.tabIndex].left,this.tabListSize[this.tabIndex].width)}))},setTabItemLinePosition(e,t){this.tabItemLineLeft=e+t/2-12},setTabSelect(e){this.tabScrollInto="tabb"+e,this.tabIndex=e}}},[["render",function(e,t,i,s,A,y){const m=g,b=E(u("u-avatar"),P),_=E(u("u-search"),Y),S=d,I=U,k=E(u("u-swiper"),J),$=E(u("u-icon"),W),N=v,z=E(u("u-rate"),Z),H=M,R=B;return a(),n(m,{class:"content"},{default:o((()=>[f(m,{class:"header"},{default:o((()=>[f(m,{class:"head",style:{"background-color":"#fff"}}),f(m,{class:"",style:{"background-color":"#fff",display:"flex","flex-direction":"row",height:"70rpx"}},{default:o((()=>[f(m,{class:"",style:{padding:"0 30rpx"}},{default:o((()=>[f(b,{src:"https://q1.qlogo.cn/g?b=qq&nk=1944876825&s=640",size:"35"})])),_:1}),f(m,{class:"",style:{width:"440rpx"}},{default:o((()=>[f(_,{placeholder:"电影 / 电视剧 / 动漫",modelValue:A.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>A.keyword=e),height:"60rpx",showAction:!1,searchIconSize:"16",style:{"font-size":"13px"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),f(m,{class:"center"},{default:o((()=>[f(I,{class:"tabMain","show-scrollbar":!1,"scroll-x":!0,"scroll-into-view":A.tabScrollInto},{default:o((()=>[f(m,{class:"tabContent",style:{width:"750rpx",display:"flex","flex-direction":"column","background-color":"#fff","border-bottom":"1px solid #e7e7e7"}},{default:o((()=>[f(m,{style:{display:"flex","flex-direction":"row"}},{default:o((()=>[(a(!0),x(w,null,C(A.myclass,((e,t)=>(a(),n(m,{class:"tabItem",id:"tabb"+t,"data-id":t,onClick:e=>y.pressScrollViewItem(t),style:{}},{default:o((()=>[f(S,{class:p(["tabItemTitle",A.tabIndex==t?"tabItemTitleActive":""]),style:{padding:"0 30rpx",height:"70rpx"}},{default:o((()=>[l(r(e.type_name),1)])),_:2},1032,["class"])])),_:2},1032,["id","data-id","onClick"])))),256))])),_:1}),f(m,{class:"tabLineView"},{default:o((()=>[f(m,{class:"tabLine tabLineActive",style:c({left:`${A.tabItemLineLeft}px`,width:`${A.tabItemLineWidth}px`})},null,8,["style"])])),_:1})])),_:1})])),_:1},8,["scroll-into-view"]),f(R,{class:"childPageView",current:A.tabIndex,duration:100,onChange:y.swiperChange,style:c({height:A.swiperHeight+"rpx"})},{default:o((()=>[(a(!0),x(w,null,C(A.myclass,((e,t)=>(a(),n(H,{class:"childPageViewItem",key:t},{default:o((()=>[f(I,{"scroll-y":"true",style:c({height:A.swiperHeight+"rpx"}),"lower-threshold":"300"},{default:o((()=>[(a(!0),x(w,null,C(A.cardList,(e=>(a(),n(m,{class:"mPd"},{default:o((()=>["swiper"==e.type?(a(),n(m,{key:0,class:""},{default:o((()=>[f(k,{list:e.data,height:"405rpx",radius:"10rpx",indicator:"",indicatorMode:"line",imgMode:"aspectFill",keyName:"image",showTitle:"",circular:"",onClick:y.tapSwiper},null,8,["list","onClick"])])),_:2},1024)):h("",!0),"videoCard"==e.type?(a(),n(m,{key:1,class:"",style:{"background-color":"#fff","border-radius":"20rpx",padding:"20rpx",margin:"15rpx 0"}},{default:o((()=>[f(m,{class:"hotMain"},{default:o((()=>[f(m,{class:"",style:{display:"flex","flex-direction":"row","justify-content":"space-between",padding:"20rpx 0"}},{default:o((()=>[f(S,{style:{"font-weight":"600","font-size":"16px"}},{default:o((()=>[l(r(e.data.name),1)])),_:2},1024),f(m,{class:"",style:{border:"solid 1px #8a8a8a","border-radius":"50px",padding:"0 5rpx 3rpx 20rpx",display:"flex","justify-content":"center","align-items":"center"}},{default:o((()=>[f($,{name:"arrow-right",label:"更多",labelPos:"left",labelSize:"12px",size:"13px"})])),_:1})])),_:2},1024),f(m,{class:"",style:{display:"flex","flex-direction":"row",padding:"5rpx 0","flex-wrap":"wrap"}},{default:o((()=>[(a(!0),x(w,null,C(e.data.list,(e=>(a(),n(m,{class:"videoCardMain",onClick:y.playVideo},{default:o((()=>[f(m,{class:"videoCardImgBox"},{default:o((()=>[f(N,{class:"videoCardImg",src:e.vod_pic,mode:"aspectFill"},null,8,["src"])])),_:2},1024),f(m,{class:"videoCardName u-line-1"},{default:o((()=>[l(r(e.vod_name),1)])),_:2},1024),f(m,{class:"videoCardRate"},{default:o((()=>[f(z,{count:"5",readonly:"",value:e.vod_douban_score,activeColor:"#f19e38",size:"13px"},null,8,["value"])])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:2},1024)])),_:2},1024)])),_:2},1024)):h("",!0)])),_:2},1024)))),256)),f(m,{class:"",style:{height:"30rpx","text-align":"center"}})])),_:1},8,["style"])])),_:2},1024)))),128))])),_:1},8,["current","onChange","style"])])),_:1}),f(m,{class:"bottom"})])),_:1})}],["__scopeId","data-v-05642972"]]);export{q as default};
